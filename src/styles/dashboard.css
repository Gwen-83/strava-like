/* Layout principal */
.dashboard{
  width:100%;
  display:flex;
  justify-content:center;
}
.dashboard-inner{
  width:100%;
  max-width:1200px;
  margin:0 auto;
  padding:20px;
}

/* Header */
.dashboard-header{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:18px;
}
.header-title{
  font-weight:700;
  color:var(--text);
  display:flex;
  align-items:center;
  gap:8px;
}

/* Actions */
.dashboard-actions{
  display:flex;
  gap:10px;
  align-items:center;
  margin-bottom:18px;
}

/* Grid layout */
.dashboard-grid{
  display:grid;
  grid-template-columns: 1.4fr 0.8fr;
  grid-template-rows: auto auto;
  gap:16px;
}

/* Charts area spans left column */
.charts-grid{
  display:grid;
  grid-template-columns: repeat(2, 1fr);
  gap:12px;
}

.section-activities {
  grid-column: 1 / -1;
}

/* ensure charts area can span full dashboard width when used inside the dashboard layout */
.dashboard .charts-grid {
  grid-column: 1 / -1;
  max-width: none;
  margin: 0; /* allow it to use parent's padding/space */
}

@media (max-width:900px){
  .dashboard-grid{ grid-template-columns: 1fr; }
  .charts-grid{ grid-template-columns: 1fr; }
}

/* Cards */
.chart-card, .stat-card, .comparison-card, .activity-card, .card{
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:12px;
  padding:14px;
  border:1px solid rgba(255,255,255,0.03);
  box-shadow: 0 8px 24px rgba(2,6,23,0.55);
}

/* Chart card headers */
.chart-card h3{
  font-size:14px;
  margin-bottom:10px;
  color:var(--muted);
}

/* Stats */
.stats-section{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.stat-card{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:14px;
}
.stat-card strong{ font-size:18px }

/* Comparisons */
.comparison-grid{
  display:flex;
  gap:10px;
}
.comparison-card{
  flex:1;
  display:flex;
  flex-direction:column;
  gap:6px;
  padding:12px;
}
.comparison-card small{ color:var(--muted) }

/* Activities list */
.activities-list{
  list-style:none;
  padding:0;
  margin:0;
  display:flex;
  flex-direction:column;
  gap:8px;
}
.activity-card{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:12px;
  cursor:pointer;
  transition: background .12s ease, transform .08s ease;
}
.activity-card:hover{
  background: linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));
  transform: translateY(-4px);
}
.activity-card strong{ display:block; font-size:14px }
.activity-card span{ color:var(--muted); font-size:13px }
.activity-card small{ color:var(--muted); }

/* AccordionSection minimal visuals (if plain wrapper) */
.accordion-section{ margin-bottom:12px }

/* Detail overlay */
.activity-detail-overlay{
  position:fixed;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  /* plus sombre et flou pour lisibilité */
  background: rgba(2,6,23,0.86);
  backdrop-filter: blur(6px);
  z-index:60;
}
.activity-detail-card{
  width:95%;
  max-width:720px;
  padding:18px;
  border-radius:14px;
  /* fond plus opaque et lisible */
  background: linear-gradient(180deg, rgba(11,18,32,0.95), rgba(11,18,32,0.9));
  border:1px solid rgba(255,255,255,0.04);
  box-shadow: 0 28px 60px rgba(2,6,23,0.85);
  color: var(--text);
}

/* Buttons inside card */
.activity-detail-card button{ margin-top:12px }

/* When overlay contains a map, make it stand out */
.activity-detail-card .detail-map {
  width: 100%;
  height: 320px;
  border-radius: 10px;
  overflow: hidden;
  margin-top: 12px;
  background: rgba(0,0,0,0.35);
}

/* Misc */
.header-actions{ display:flex; gap:8px; align-items:center }
.sort, .import{ height:38px }

/* Select "sort" — harmonisation DA */
.sort {
  height: 38px;
  border-radius: 10px;
  color: var(--text);
  border: solid 1px rgba(96,165,250,0.12);
  font: inherit;
  cursor: pointer;
  transition: transform .08s ease, box-shadow .12s ease;
}

.sort:focus {
  outline: none;
  box-shadow: 0 0 0 4px rgba(96,165,250,0.12);
  transform: translateY(-1px);
}

/* Option list readable when opened */
.sort option {
  color: #111;
  background: rgba(96,165,250,0.12);
}

/* Dropdown tabs */
.tab-dropdown { font-family: inherit; }
.tab-dropdown-toggle {
  background: transparent;
  border: 1px solid transparent;
  padding: 8px 10px;
  border-radius: 8px;
  cursor: pointer;
  color: var(--text);
}
.tab-dropdown-toggle:hover,
.tab-dropdown-toggle:focus {
  background: rgba(255,255,255,0.02);
  border-color: rgba(255,255,255,0.04);
  outline: none;
}

.tab-dropdown-menu {
  position: absolute;
  top: 100%;
  left: 0;
  min-width: 160px;
  background: var(--panel-background, #0b1220);
  border: 1px solid rgba(255,255,255,0.04);
  border-radius: 8px;
  box-shadow: 0 8px 24px rgba(2,6,23,0.45);
  z-index: 60;
  padding: 6px;
}

.tab-dropdown-menu button {
  display: block;
  width: 100%;
  text-align: left;
  padding: 8px 10px;
  background: transparent;
  border: none;
  color: var(--text);
  border-radius: 6px;
  cursor: pointer;
  font: inherit;
}

.tab-dropdown-menu button:hover,
.tab-dropdown-menu button:focus {
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.03));
  outline: none;
}

/* ensure dropdowns don't overflow on small screens */
@media (max-width: 640px) {
  .tab-dropdown-menu { min-width: 140px; left: auto; right: 0; }
}

.tab-dropdown-toggle,
.tab-button {
  background: transparent;
  border: 1px solid transparent;
  padding: 6px 10px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 14px;
  color: inherit;
  transition: background-color 120ms, border-color 120ms;
  margin-right: 12px; /* remplace les styles inline */
}

.tab-dropdown-toggle:hover,
.tab-button:hover {
  background: rgba(0, 0, 0, 0.04);
}

.tab-dropdown-toggle:focus,
.tab-button:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba(100, 150, 255, 0.15);
}

.tab-button[aria-selected="true"],
.tab-dropdown-toggle[aria-selected="true"] {
  background: rgba(0, 120, 212, 0.08);
  border-color: rgba(0, 120, 212, 0.18);
}